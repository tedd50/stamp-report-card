<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WELLBEING ACADEMY REPORT CARD</title>
    <style>
        body,
        html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f5f5f5;
        }

        /* Container for the report card */
        #report-card {
            position: relative;
            width: 100%;
            max-width: 400px;
            height: auto;
            aspect-ratio: 1409 / 2000;
            background-image: url('Background.png');
            background-size: cover;
            background-position: center;
        }

        /* Styling for name */
        #name {
            position: absolute;
            top: 15.5%;
            /* Adjust this for vertical positioning */
            left: 80%;
            /* Center horizontally */
            transform: translateX(-50%);
            /* Center adjustment */
            width: 80%;
            /* Width of the text block */
            text-align: left;
            /* Center the text horizontally */
            font-size: 0.8rem;
            /* Adjust font size */
            font-weight: bold;
            color: #333;
            /* Text color */
        }

        /* Styling for year */
        #year {
            position: absolute;
            top: 95%;
            /* Adjust this for vertical positioning */
            left: 20%;
            /* Center horizontally */
            transform: translateX(-50%);
            width: 80%;
            text-align: center;
            font-size: 0.8rem;
            color: #555;
        }

        /* Styling for quarter */
        #quarter {
            position: absolute;
            top: 95%;
            /* Adjust this for vertical positioning */
            left: 76.5%;
            /* Center horizontally */
            transform: translateX(-50%);
            width: 80%;
            text-align: center;
            font-size: 0.8rem;
            color: #555;
        }
    </style>
</head>

<body>
    <div id="report-card">
        <div id="name">Novita Liesera</div>
        <div id="year">2025</div>
        <div id="quarter">1</div>
        <div id="stamps-container"></div>
    </div>

    <script>
        // API URL
        const API_URL = 'https://loyalty-stamp.onrender.com/stamps/1';

        // Image assets
        const ASSETS = {
            stamped: 'StampedBox.png',
            empty: 'EmptyBox.png'
        };

        // Dynamic rendering
        async function fetchReportData() {
            try {
                const response = await fetch(API_URL);
                const data = await response.json();

                // Populate student info
                document.getElementById('name').textContent = `${data.name}`;
                document.getElementById('year').textContent = `${data.period.year}`;
                document.getElementById('quarter').textContent = `${data.period.quarter}`;

                // Populate stamp boxes
                const container = document.getElementById('report-card');
                data.stamps.forEach((stamp, index) => {
                    const stampBox = document.createElement('div');
                    stampBox.classList.add('stamp-box');
                    stampBox.style.backgroundImage = `url(${stamp ? ASSETS.stamped : ASSETS.empty})`;

                    // Set dynamic position (adjust these to match your design grid)
                    const row = Math.floor(index / 5); // Assume 5 columns per row
                    const col = index % 5;
                    stampBox.style.top = `${150 + row * 70}px`; // Example: 150px top offset + 70px per row
                    stampBox.style.left = `${20 + col * 70}px`; // Example: 20px left offset + 70px per column

                    container.appendChild(stampBox);
                });
            } catch (error) {
                console.error('Error fetching data:', error);
            }
        }

        fetchReportData();
    </script>
</body>

</html>